{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% load static %}
{% block title  %}
profile
{% endblock title  %}

{% block content %}

<link rel="stylesheet"
    href=" https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css "> 

<br>
<div class="container">
  {% if messages %}
  {% for message in messages %}
  <div class="alert alert-warning alert-dismissible fade show border border-danger" role="alert">
    <strong>Hi {{ user.username }}</strong>,{{ message }}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
</div>
  {% endfor%}
  {% endif%}
</div>


<section class="profile" id="profile">
<div class="container w-50 p-3 my-20 border rounded mt-5" style="background-color:#d8d6d6 ;">
  <legend class="border-bottom border-success mb-4" style="color:#2268ff ;">Profile Information:</legend>
  <form action="" method="POST" autocomplete="off" class="fw-semibold">
    {% csrf_token %}

    <div class="media">
      <div class="media-body">
        <h2 class="account-heading">{{ form.instance.username }}
        </h2>
        <p class="text-secondary">{{ form.instance.first_name }} {{ form.instance.last_name }}</p>
        <p class="text-secondary">{{ form.instance.email }}</p>
      </div>
    </div>

    {% if user.username == form.instance.username %}

    <fieldset class="form-group">
      <legend class="border-bottom border-success mb-4" style="color:#2268ff ;">Edit Profile Information:</legend>
      <div class="form row">
        <div class="form-group col-md-6 mb-0">
          {{ form.first_name|as_crispy_field }}
        </div>
        <div class="form-group col-md-6 mb-0">
          {{ form.last_name|as_crispy_field }}
        </div>
      </div>
      {{ form.email|as_crispy_field }}
      <a href="{% url 'password_change' %}">change password ?</a>
    </fieldset>
    <br>
      <div class="form-group">
        <button class="btn btn-lg col-md-2" style="background:#2268ff ; color:#fff">Update</button>
      </div>
    {% endif %}
    </section>
    <br>
<br>
<br>
<br> 

{% endblock content %}